/* tslint:disable */
/* eslint-disable */
/**
 * Open Food Facts Open API
 * As a developer, the Open Food Facts API allows you to get information and contribute to the products database. You can create great apps to help people make better food choices and also provide data to enhance the database.
 *
 * The version of the OpenAPI document: 2
 * Contact: reuse@openfoodfacts.org
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */

import * as runtime from "../runtime";
import type {
  AttributeGroup,
  GetPreferences200ResponseInner,
} from "../models/index";
import {
  AttributeGroupFromJSON,
  AttributeGroupToJSON,
  GetPreferences200ResponseInnerFromJSON,
  GetPreferences200ResponseInnerToJSON,
} from "../models/index";

export interface GetAttributeGroups0Request {
  lc?: string;
}

export interface GetPreferences0Request {
  lc?: string;
}

/**
 *
 */
export class PersonalSearchApi extends runtime.BaseAPI {
  /**
   * Attributes are at the heart of personal search. They score the products according to different criterias, which could then be matched to a user\'s preferences.  This API helps you list attributes and display them in your application, for the user to choose the importance of each criteria.  note: /api/v2/attribute_groups_{lc} is also a valid route, but consider it deprecated
   * Get the list of attributes available for personal search.
   */
  async getAttributeGroupsRaw(
    requestParameters: GetAttributeGroups0Request,
    initOverrides?: RequestInit | runtime.InitOverrideFunction,
  ): Promise<runtime.ApiResponse<Array<AttributeGroup>>> {
    const queryParameters: any = {};

    if (requestParameters["lc"] != null) {
      queryParameters["lc"] = requestParameters["lc"];
    }

    const headerParameters: runtime.HTTPHeaders = {};

    const response = await this.request(
      {
        path: `/api/v2/attribute_groups`,
        method: "GET",
        headers: headerParameters,
        query: queryParameters,
      },
      initOverrides,
    );

    return new runtime.JSONApiResponse(response, (jsonValue) =>
      jsonValue.map(AttributeGroupFromJSON),
    );
  }

  /**
   * Attributes are at the heart of personal search. They score the products according to different criterias, which could then be matched to a user\'s preferences.  This API helps you list attributes and display them in your application, for the user to choose the importance of each criteria.  note: /api/v2/attribute_groups_{lc} is also a valid route, but consider it deprecated
   * Get the list of attributes available for personal search.
   */
  async getAttributeGroups(
    requestParameters: GetAttributeGroups0Request = {},
    initOverrides?: RequestInit | runtime.InitOverrideFunction,
  ): Promise<Array<AttributeGroup>> {
    const response = await this.getAttributeGroupsRaw(
      requestParameters,
      initOverrides,
    );
    return await response.value();
  }

  /**
   * This endpoint retrieves the weights corresponding to attribute preferences for computing personal product recommendations. The weights are used to personalize the product recommendations based on user preferences.
   * Get the weights corresponding to attributes preferences to compute personal product
   */
  async getPreferencesRaw(
    requestParameters: GetPreferences0Request,
    initOverrides?: RequestInit | runtime.InitOverrideFunction,
  ): Promise<runtime.ApiResponse<Array<GetPreferences200ResponseInner>>> {
    const queryParameters: any = {};

    if (requestParameters["lc"] != null) {
      queryParameters["lc"] = requestParameters["lc"];
    }

    const headerParameters: runtime.HTTPHeaders = {};

    const response = await this.request(
      {
        path: `/api/v2/preferences`,
        method: "GET",
        headers: headerParameters,
        query: queryParameters,
      },
      initOverrides,
    );

    return new runtime.JSONApiResponse(response, (jsonValue) =>
      jsonValue.map(GetPreferences200ResponseInnerFromJSON),
    );
  }

  /**
   * This endpoint retrieves the weights corresponding to attribute preferences for computing personal product recommendations. The weights are used to personalize the product recommendations based on user preferences.
   * Get the weights corresponding to attributes preferences to compute personal product
   */
  async getPreferences(
    requestParameters: GetPreferences0Request = {},
    initOverrides?: RequestInit | runtime.InitOverrideFunction,
  ): Promise<Array<GetPreferences200ResponseInner>> {
    const response = await this.getPreferencesRaw(
      requestParameters,
      initOverrides,
    );
    return await response.value();
  }
}
